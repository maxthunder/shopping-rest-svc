create table customer
(
	customer_id int auto_increment primary key,
	customer_name varchar(255) not null,
	constraint customer_customer_name_uindex
		unique (customer_name)
)
;

create table hibernate_sequence
(
	next_val bigint null
)
;

create table shirt_inventory
(
	shirt_inventory int auto_increment primary key,
	shirt_ref_id int not null,
	quanity int default '0' not null,
	constraint shirt_inventory_shirt_ref_id_uindex
		unique (shirt_ref_id)
)
;

create table shirt_order
(
	shirt_order_id int auto_increment primary key,
	customer_id int null,
	shirt_ref_id int not null,
	constraint shirt_order_customer_customer_id_fk
		foreign key (customer_id) references customer (customer_id)
)
;

create index shirt_order_customer_customer_id_fk
	on shirt_order (customer_id)
;

create index shirt_order_shirt_ref_shirt_ref_id_fk
	on shirt_order (shirt_ref_id)
;

create table shirt_ref
(
	shirt_ref_id int auto_increment primary key,
	shirt_name varchar(255) not null,
	size varchar(15) null,
	style varchar(50) null,
	constraint shirt_ref_shirt_ref_name_uindex
		unique (shirt_name)
)
;

alter table shirt_inventory
	add constraint shirt_inventory_shirt_ref_shirt_ref_id_fk
		foreign key (shirt_ref_id) references shirt_ref (shirt_ref_id)
;

alter table shirt_order
	add constraint shirt_order_shirt_ref_shirt_ref_id_fk
		foreign key (shirt_ref_id) references shirt_ref (shirt_ref_id)
;

